(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b651545e"],{"06c5":function(t,e,o){"use strict";o.d(e,"a",(function(){return r}));o("a630"),o("fb6a"),o("b0c0"),o("d3b7"),o("25f0"),o("3ca3");var n=o("6b75");function r(t,e){if(t){if("string"===typeof t)return Object(n["a"])(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?Object(n["a"])(t,e):void 0}}},"1c62":function(t,e,o){"use strict";o.r(e);var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"home"},[o("nav-bar",{staticClass:"home-nav"},[o("span",{attrs:{slot:"center"},slot:"center"},[t._v("购物街")])]),o("tab-control",{directives:[{name:"show",rawName:"v-show",value:t.tabcontrolShow,expression:"tabcontrolShow"}],ref:"tabcontrol1",staticClass:"tab-control-faker",attrs:{titles:["流行","新款","精选"]},on:{tabClick:t.tabItemClick,recordIndex:t.recordIndex}}),o("scroll",{ref:"scroll",staticClass:"wrapper",attrs:{pullUpLoad:!0,probeType:3},on:{pullingUp:t.pullup,scroll:t.isShowBackTopFun}},[o("swipe",{attrs:{banners:t.banners},on:{imgLoad:t.swiperLoad}}),o("recommend-view",{attrs:{recommends:t.recommends}}),o("tab-control",{ref:"tabcontrol2",attrs:{titles:["流行","新款","精选"]},on:{tabClick:t.tabItemClick,recordIndex:t.recordIndex}}),o("goods-list",{ref:"goodsList",staticClass:"goods-list",attrs:{goods:t.goods[t.transmit].list}})],1),o("back-top",{directives:[{name:"show",rawName:"v-show",value:t.isShowBackTop,expression:"isShowBackTop"}],nativeOn:{click:function(e){return t.backtop(e)}}})],1)},r=[],a=o("6b75");function s(t){if(Array.isArray(t))return Object(a["a"])(t)}o("a4d3"),o("e01a"),o("d28b"),o("a630"),o("d3b7"),o("3ca3"),o("ddb0");function i(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}var c=o("06c5");function l(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function d(t){return s(t)||i(t)||Object(c["a"])(t)||l()}var u=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"swipe"},[o("mt-swipe",{attrs:{auto:4e3}},t._l(t.banners,(function(e,n){return o("mt-swipe-item",{key:n},[o("a",{attrs:{href:e.link}},[o("img",{attrs:{src:e.image,alt:""},on:{load:t.imgload}})])])})),1)],1)},f=[],m=(o("aa35"),{data:function(){return{isLoad:!1}},props:{banners:{type:Array,default:function(){return[]}}},methods:{imgload:function(){this.isLoad||(this.$emit("imgLoad"),this.isLoad=!0)}}}),b=m,h=(o("34e4"),o("2877")),p=Object(h["a"])(b,u,f,!1,null,"57da1fad",null),v=p.exports,g=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"recommend"},t._l(t.recommends,(function(e,n){return o("div",{key:n,staticClass:"recommend-item"},[o("a",{attrs:{href:e.link}},[o("img",{attrs:{src:e.image,alt:""}})]),o("span",[t._v(t._s(e.title))])])})),0)},w=[],y={props:{recommends:{type:Array,default:function(){return[]}}}},k=y,C=(o("e6d5"),Object(h["a"])(k,g,w,!1,null,"6c670353",null)),x=C.exports,$=o("cab2"),A=o("5d17"),O=o("5ad3"),L=o("6d71"),T=o("1bab");function S(){return Object(T["a"])({url:"/home/multidata"})}function _(t,e){return Object(T["a"])({url:"/home/data",params:{type:t,page:e}})}var j=o("eecb"),I={name:"home",components:{swipe:v,recommendView:x,navBar:$["a"],scroll:A["a"],TabControl:O["a"],GoodsList:L["a"]},mixins:[j["b"],j["a"],j["c"]],data:function(){return{banners:[],recommends:[],goods:{pop:{page:0,list:[]},sell:{page:0,list:[]},new:{page:0,list:[]}},isLoaded:!1,tabcontrolShow:!1,tabOffsetTop:0,saveLocation:0,tabControlPosition:{pop:0,new:0,sell:0}}},created:function(){this.getHomeMultiData(),this.getHomeGoods("pop"),this.getHomeGoods("new"),this.getHomeGoods("sell")},methods:{getHomeMultiData:function(){var t=this;S().then((function(e){t.banners=e.data.banner.list,t.recommends=e.data.recommend.list}))},getHomeGoods:function(t){var e=this,o=this.goods[t].page+1;_(t,o).then((function(o){var n;(n=e.goods[t].list).push.apply(n,d(o.data.list)),e.goods[t].page+=1,e.$refs.scroll.finishPullUp()}))},tabItemClick:function(t){this.tabClick(t),this.$refs.tabcontrol1.dindex=t,this.$refs.tabcontrol2.dindex=t},pullup:function(){this.getHomeGoods(this.transmit)},isShowBackTopFun:function(t){this.showBack(t),this.tabcontrolShow=-t.y>this.tabOffsetTop},swiperLoad:function(){for(var t in this.tabOffsetTop=this.$refs.tabcontrol2.$el.offsetTop,this.tabControlPosition)this.tabControlPosition[t]=-this.$refs.goodsList.$el.offsetTop},recordIndex:function(t){switch(t){case 0:this.oldTransmit="pop";break;case 1:this.oldTransmit="new";break;case 2:this.oldTransmit="sell";break}this.tabControlPosition[this.oldTransmit]=this.$refs.scroll.scroll.y}},activated:function(){this.$refs.scroll.scrollTo(0,this.saveLocation),this.$refs.scroll.refresh()},deactivated:function(){this.saveLocation=this.$refs.scroll.scroll.y,this.$bus.$off("itemImgLoad",this.itemImgListener)}},H=I,B=(o("6bdf"),Object(h["a"])(H,n,r,!1,null,"361c37f2",null));e["default"]=B.exports},"34e4":function(t,e,o){"use strict";o("a182")},"391d":function(t,e,o){"use strict";o("6e51")},"4df4":function(t,e,o){"use strict";var n=o("0366"),r=o("7b0b"),a=o("9bdd"),s=o("e95a"),i=o("50c4"),c=o("8418"),l=o("35a1");t.exports=function(t){var e,o,d,u,f,m,b=r(t),h="function"==typeof this?this:Array,p=arguments.length,v=p>1?arguments[1]:void 0,g=void 0!==v,w=l(b),y=0;if(g&&(v=n(v,p>2?arguments[2]:void 0,2)),void 0==w||h==Array&&s(w))for(e=i(b.length),o=new h(e);e>y;y++)m=g?v(b[y],y):b[y],c(o,y,m);else for(u=w.call(b),f=u.next,o=new h;!(d=f.call(u)).done;y++)m=g?a(u,v,[d.value,y],!0):d.value,c(o,y,m);return o.length=y,o}},"5ad3":function(t,e,o){"use strict";var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"tab-control"},t._l(t.titles,(function(e,n){return o("div",{key:n,staticClass:"tab-control-item",class:{active:t.dindex===n},on:{click:function(e){return t.itemClick(n)}}},[o("span",[t._v(t._s(e))])])})),0)},r=[],a={data:function(){return{dindex:0}},props:{titles:{type:Array,default:function(){return[]}}},methods:{itemClick:function(t){this.dindex=t,this.$emit("tabClick",t)}},watch:{dindex:function(t,e){this.$emit("recordIndex",e)}}},s=a,i=(o("391d"),o("2877")),c=Object(i["a"])(s,n,r,!1,null,"459e7df3",null);e["a"]=c.exports},"6b75":function(t,e,o){"use strict";function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,n=new Array(e);o<e;o++)n[o]=t[o];return n}o.d(e,"a",(function(){return n}))},"6bdf":function(t,e,o){"use strict";o("6d06")},"6d06":function(t,e,o){},"6e51":function(t,e,o){},"9bdd":function(t,e,o){var n=o("825a"),r=o("2a62");t.exports=function(t,e,o,a){try{return a?e(n(o)[0],o[1]):e(o)}catch(s){throw r(t),s}}},a182:function(t,e,o){},a630:function(t,e,o){var n=o("23e7"),r=o("4df4"),a=o("1c7e"),s=!a((function(t){Array.from(t)}));n({target:"Array",stat:!0,forced:s},{from:r})},e68d:function(t,e,o){},e6d5:function(t,e,o){"use strict";o("e68d")},fb6a:function(t,e,o){"use strict";var n=o("23e7"),r=o("861d"),a=o("e8b5"),s=o("23cb"),i=o("50c4"),c=o("fc6a"),l=o("8418"),d=o("b622"),u=o("1dde"),f=o("ae40"),m=u("slice"),b=f("slice",{ACCESSORS:!0,0:0,1:2}),h=d("species"),p=[].slice,v=Math.max;n({target:"Array",proto:!0,forced:!m||!b},{slice:function(t,e){var o,n,d,u=c(this),f=i(u.length),m=s(t,f),b=s(void 0===e?f:e,f);if(a(u)&&(o=u.constructor,"function"!=typeof o||o!==Array&&!a(o.prototype)?r(o)&&(o=o[h],null===o&&(o=void 0)):o=void 0,o===Array||void 0===o))return p.call(u,m,b);for(n=new(void 0===o?Array:o)(v(b-m,0)),d=0;m<b;m++,d++)m in u&&l(n,d,u[m]);return n.length=d,n}})}}]);
//# sourceMappingURL=chunk-b651545e.c6d42974.js.map